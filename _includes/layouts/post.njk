---
layout: base.njk
---

<article class="article-content">
  <header class="post-header">
    <h1>{{ title }}</h1>
    {% if page.date %}
    <p class="meta">发布于：{{ page.date | dateLocal('yyyy-LL-dd') }}</p>
    {% endif %}
    <p class="meta">最后更新：{{ page.inputPath | fileUpdated | dateLocal('yyyy-LL-dd HH:mm') }}</p>
    
    {% if tags and tags.length > 0 %}
      <div class="post-tags">
        {% for tag in tags %}
          <a class="tag" href="/tags/{{ tag }}/">{{ tag }}</a>
        {% endfor %}
      </div>
    {% endif %}
  </header>

  {% if excerpt %}
    <div class="post-excerpt">
      <p>{{ excerpt }}</p>
    </div>
  {% endif %}

  <section class="post-body">
    {{ content | safe }}
  </section>

  <footer class="post-footer">
    <div class="post-navigation">
      {% if env and env.isProd %}{% set homeHref = (site.url | trim('/')) ~ '/' %}{% else %}{% set homeHref = '/' %}{% endif %}
      <a href="{{ homeHref }}" data-i18n="back_home">← 返回首页</a>
    </div>
  </footer>
</article>
{% if site and site.url %}
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"BlogPosting",
  "headline":{{ title | dump | safe }},
  "description":{{ (excerpt or '') | dump | safe }},
  "datePublished":{{ (page.date | date()) | dump | safe }},
  "dateModified":{{ (page.inputPath | fileUpdated | date()) | dump | safe }},
  "author":{
    "@type":"Person",
    "name":{{ (site.author or site.title) | dump | safe }}
  },
  "publisher":{
    "@type":"Person",
    "name":{{ (site.author or site.title) | dump | safe }}
  },
  "mainEntityOfPage":{{ ((site.url | trim('/')) ~ page.url) | dump | safe }},
  "image":{{ (image or ((site.url | trim('/')) ~ '/assets/img/sample-cover.svg')) | dump | safe }}
}
</script>
{% endif %}
