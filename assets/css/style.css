/* 改进后的响应式博客样式（排版优化） */
:root{
  --bg: #071024;
  --surface: rgba(255,255,255,0.06);
  --muted: #94a3b8;
  --accent: #60A5FA; /* 浅蓝主色，替换原紫色 */
  --accent-2: #00B894;
  --text: #e6eef8;
  --container: 1100px;
  --radius: 10px;
  --max-read-width: 740px;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
body{font-size:16px;line-height:1.58}
.container{max-width:var(--container);margin:0 auto;padding:20px}
.site-header{border-bottom:1px solid rgba(255,255,255,0.03);background:transparent;padding:10px 0}
.header-inner{display:flex;align-items:center;justify-content:space-between;gap:8px}
.header-actions{display:flex;align-items:center;gap:12px}
.brand{font-weight:700;color:var(--text);text-decoration:none;font-size:1.1rem}
.main-nav a{color:var(--muted);text-decoration:none;margin-left:12px;font-size:0.92rem}
.main-nav a:hover, .main-nav a:focus{color:var(--text);outline:2px dashed rgba(255,255,255,0.06);outline-offset:4px}

/* 语言切换按钮：与主题一致的低调胶囊样式 */
.lang-toggle{
  appearance:none;
  border:1px solid rgba(255,255,255,0.08);
  background:var(--surface);
  color:var(--muted);
  padding:6px 10px;
  border-radius:8px;
  font-size:0.85rem;
  line-height:1;
  cursor:pointer;
  transition:background .2s ease,color .2s ease,border-color .2s ease,box-shadow .2s ease;
  margin-left:0; /* 间隔由 header-actions 的 gap 控制 */
}
.lang-toggle:hover,.lang-toggle:focus{
  color:var(--text);
  border-color:rgba(255,255,255,0.16);
  box-shadow:0 0 0 3px rgba(96,165,250,0.25);
}

/* Improve focus visibility for interactive elements */
a:focus, button:focus {outline:3px solid rgba(96,165,250,0.35);outline-offset:2px}

/* Hero */
.hero{display:flex;gap:20px;align-items:center;justify-content:space-between;padding:24px 0}
.hero h1{font-size:2.0rem;margin:0;letter-spacing:-0.02em}
.lead{color:var(--muted);margin-top:8px;max-width:500px}
.cta{display:inline-block;margin-top:12px;padding:8px 14px;border-radius:8px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;text-decoration:none;font-weight:600}
.hero-illus img, .hero-illus svg{border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.35);display:block}

/* 页面主体（文章列表 + 侧边栏） */
.section-title{color:var(--text);margin-bottom:14px}
.posts-grid{margin-top:4px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px}

.post-card{display:flex;flex-direction:column;background:var(--surface);border-radius:var(--radius);overflow:hidden;transition:transform .16s ease,box-shadow .16s ease}
.post-card:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(2,6,23,0.55)}
.post-card .thumb{height:120px;overflow:hidden;flex:0 0 120px}
.post-card .thumb img{width:100%;height:100%;object-fit:cover;display:block}
.post-body{padding:14px;display:flex;flex-direction:column;gap:6px;flex:1}
.post-body h3{margin:0;font-size:1.0rem}
.post-body h3 a{ color:var(--accent); text-decoration:none }
.post-body h3 a:hover, .post-body h3 a:focus{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }
.meta{color:var(--muted);font-size:0.82rem;margin-bottom:3px}
.excerpt{color:var(--muted);font-size:0.92rem}
.read-more{display:inline-block;margin-top:auto;color:var(--accent);text-decoration:none;font-weight:600}

/* 侧边栏 */
.sidebar{margin-top:20px}
.card{background:var(--surface);padding:14px;border-radius:10px;margin-bottom:10px;color:var(--muted)}
.card h3{margin-top:0;color:var(--text)}
/* 小图标：用于联系卡片的邮箱图标等 */
.icon{width:15px;height:15px;vertical-align:text-bottom;margin-right:6px}

/* 布局：在宽屏时 main 为两列（内容 + 侧边栏） */
@media(min-width:980px){
  main.container{
    display:grid;
    grid-template-columns:1fr 320px;
    grid-column-gap:24px;
    grid-row-gap:16px;
    grid-template-areas:
      "hero hero"
      "posts sidebar";
    align-items:start;
  }
  .hero{grid-area:hero}
  .posts-grid{grid-area:posts}
  aside.sidebar{grid-area:sidebar;margin-top:0}
  /* 去除侧栏卡片粘性定位，避免与其他卡片重叠 */
  .sidebar .card{position:static}
}

/* 中小屏：使用单列网格，侧边栏排在文章列表之前 */
@media(max-width:979px){
  main.container{
    display:grid;
    grid-template-columns:1fr;
    grid-row-gap:16px;
    grid-template-areas:
      "hero"
      "sidebar"
      "posts";
    align-items:start;
  }
  .hero{grid-area:hero}
  .posts-grid{grid-area:posts}
  aside.sidebar{grid-area:sidebar;margin-top:0}
}

/* 移动端优化 */
@media(max-width:720px){
  .hero{flex-direction:column;align-items:flex-start;padding:18px 0}
  .main-nav{display:none}
  .cta{width:100%}
  .grid{grid-template-columns:1fr}
  .post-card .thumb{height:140px}
}

/* 阅读页面宽度约束（若未来生成文章页面使用） */
.article-content{max-width:var(--max-read-width);margin:0}

/* 文章页面样式 */
.post-header{margin-bottom:1.6rem}
.post-tags{margin-top:0.8rem;display:flex;flex-wrap:wrap;gap:0.4rem}
.tag{display:inline-block;padding:0.28rem 0.7rem;background:var(--surface);border-radius:18px;font-size:0.95rem;color:var(--muted);border:1px solid rgba(255,255,255,0.1)}
.post-excerpt{background:var(--surface);padding:1.2rem;border-radius:var(--radius);margin:1.2rem 0;font-style:italic;border-left:3px solid var(--accent)}
.post-footer{margin-top:2.2rem;padding-top:1.4rem;border-top:1px solid rgba(255,255,255,0.1)}
.post-navigation a{color:var(--accent);text-decoration:none;font-weight:600;display:inline-flex;align-items:center;gap:0.45rem;transition:color 0.2s ease}
.post-navigation a:hover{color:var(--accent-2)}
.post-body{line-height:1.7;font-size:1.0rem}
.post-body h2,.post-body h3,.post-body h4{margin-top:1.6rem;margin-bottom:0.8rem;color:var(--text)}
.post-body p{margin-bottom:1.2rem}
.post-body code{background:var(--surface);padding:0.18rem 0.35rem;border-radius:4px;font-size:0.9rem}
.post-body pre{background:var(--surface);padding:0.85rem;border-radius:var(--radius);overflow-x:auto;margin:1.2rem 0}
.post-body pre code{background:none;padding:0}

/* 文内链接：默认无下划线，悬停/聚焦时显示下划线 */
.post-body a{color:var(--accent);text-decoration:none}
.post-body a:hover{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }
.post-body a:focus{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }

/* 侧边栏卡片中的链接同样采用悬停下划线 */
aside.sidebar .card a{ color:var(--accent); text-decoration:none }
aside.sidebar .card a:hover{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }
aside.sidebar .card a:focus{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }

/* 侧栏标签按钮容器与样式（横向铺设，小按钮） */
.tag-badges{display:flex;flex-wrap:wrap;gap:0.4rem}
/* 覆盖侧栏卡片内的链接下划线，使按钮风格更统一 */
.tag-badges .tag{color:var(--text);text-decoration:none}
.tag-badges .tag:hover,.tag-badges .tag:focus{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.18);text-decoration:none}
.tag .badge{display:inline-block;margin-left:0.4rem;padding:0 0.45rem;min-width:20px;height:20px;line-height:20px;border-radius:10px;background:var(--accent);color:#fff;font-size:0.78rem}

/* 阅读更多按钮在悬停时显示下划线以提示可点击 */
.read-more{ text-decoration:none }
.read-more:hover{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }

/* 页脚链接：默认无下划线，悬停/聚焦时显示下划线 */
.site-footer a{ color:var(--accent); text-decoration:none }
.site-footer a:hover{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }
.site-footer a:focus{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }

/* 可打印友好 */
@media print{.cta,.hero-illus,.main-nav{display:none}}

/* 标签索引页：标签链接使用浅蓝主色 */
.tags-index .tag-list a{ color:var(--accent); text-decoration:none }
.tags-index .tag-list a:hover, .tags-index .tag-list a:focus{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }

/* 标签聚合页底部返回链接使用浅蓝主色 */
.posts-grid .back-link{ color:var(--accent); text-decoration:none; font-weight:600 }
.posts-grid .back-link:hover, .posts-grid .back-link:focus{ text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:2px }

/* 标签索引页搜索框样式 */
.tags-index .tag-search {
  margin: 0 0 1rem;
}
.tags-index .tag-search label {
  display: block;
  font-size: 0.9rem;
  color: var(--muted);
  margin-bottom: 0.35rem;
}
.tags-index .tag-search input[type="search"] {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 8px;
  background: var(--surface);
  color: var(--text);
}
.tags-index .tag-search input[type="search"]:focus {
  outline: none;
  border-color: rgba(255,255,255,0.18);
  box-shadow: 0 0 0 3px rgba(96,165,250,0.25);
}
.tags-index .help {
  display: block;
  margin-top: 0.35rem;
  font-size: 0.84rem;
  color: var(--muted);
}
.tags-index .empty {
  margin-top: 0.75rem;
  color: var(--muted);
}
